<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Airwallex sandbox</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script type="module">
      import { lorikeet } from 'https://storage.googleapis.com/resources.lorikeetcx.ai/widget.js?mode=defer3333'

      const urlParams = new URLSearchParams(window.location.search)
      const publicKey =
        urlParams.get('public_key') ||
        document.cookie.replace(
          /(?:(?:^|.*;\s*)lorikeet_public_key\s*=\s*([^;]*).*$)|^.*$/,
          '$1',
        )
      const token =
        urlParams.get('token') ||
        document.cookie.replace(
          /(?:(?:^|.*;\s*)lorikeet_token\s*=\s*([^;]*).*$)|^.*$/,
          '$1',
        )

      if (!publicKey) {
        throw new Error('Missing public key')
      }
      lorikeet.init({
        public_key: publicKey,
        token,
        default_open: true,
        customisations: {
          theme: {
            textColor: '214 12% 12%',
            secondaryBrandColor: '254 100% 59%',
            brandColor: '15 100% 63%',
            fontFamily: '"Roboto",Helvetica,Arial,sans-serif',
          },
          logoUrl: 'https://chat.lorikeetcx.ai/airwallex.png',
          title: 'Airwallex assistant',
        },
      })

      if (publicKey) {
        document.cookie = `lorikeet_public_key=${publicKey}`
      }

      if (token) {
        document.cookie = `lorikeet_token=${token}`
      }
    </script>
  </head>
  <body></body>
</html>
